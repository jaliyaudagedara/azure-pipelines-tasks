/**
 * Mock App config Client, that throws an 409 status code 
*/
import { RestError } from "@azure/core-rest-pipeline";
import { SetConfigurationSettingResponse } from '@azure/app-configuration';

class ConflictAppConfigurationClient {

    public async setConfigurationSetting(): Promise<SetConfigurationSettingResponse> {
      const message: string = "{\"type\":\"https://test.azconfig.io/errors/key-locked\",\"title\":\"Modifing key 'app:Fruit:Banana:0' is not allowed\",\"name\":\"app:Settings:BackgroundColor\",\"detail\":\"The key is read-only. To allow modification unlock it first.\",\"status\":409}";
      
      return Promise.reject(new RestError(message, {statusCode: 409}));
    }
}
exports.AppConfigurationClient = ConflictAppConfigurationClient;